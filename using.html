<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Калькулятор</title>
    <link rel="stylesheet" href="styles/app.css">
</head>

<body class="page page_mobile-back">
    <header class="header">
        <img class="logo" src="images/hat2.jpg" alt="Калькулятор серый">
    </header>
    <div class="page__wide-screen">
        <nav class="navbar sidebar-using">
            <ul class="navbar__nav-list sidebar-using__nav-list">
                <li class="navbar__item"><a
                        class="navbar__link sidebar-using__link sidebar-using__link_underscore_index"
                        href="index.html">Калькулятор</a></li>
                <li class="navbar__item"><a
                        class="navbar__link sidebar-using__link navbar__link_underscore_using navbar__link_active sidebar-using__link_underscore_using"
                        href="using.html">Использование</a></li>
            </ul>
        </nav>
        <main class="main-block">
            <section class="info">
                <div class="intro">
                    <p class="intro__text">Этот калькулятор предназначен для вычисления различных выражений - от
                        простых базовых арифметических операций до сложных выражений со скобочками и различными
                        функциями, такими как возведение в степень, вычисление факториала, взятие логарифма и пр.
                        <br>Нажав на некоторые функции и операции можно перейти на страницу википедии с подробной
                        информацией.
                    </p>
                </div>
                <nav class="inner-nav border-animate">
                    <ul class="inner-nav__list">
                        <li class="inner-nav__item" data-target="video-using">Использование</li>
                        <li class="inner-nav__item" data-target="math-guide">Операнды</li>
                        <li class="inner-nav__item" data-target="FAQ">FAQ</li>
                    </ul>
                </nav>
                <!-- <div class="greeting">
                    <h1 class="greeting__hello">Вся практическая информация ниже</h1>
                    <div class="arrow-down">
                        <svg class="arrow-down__shape" width="800px" height="800px" viewBox="0 0 24 24" fill="none"
                            xmlns="http://www.w3.org/2000/svg">
                            <path class="arrow-down__path" fill-rule="evenodd" clip-rule="evenodd"
                                d="M1 12C1 18.0751 5.92487 23 12 23C18.0751 23 23 18.0751 23 12C23 5.92487 18.0751 1 12 1C5.92487 1 1 5.92487 1 12ZM7.83335 12C7.4963 12 7.19244 12.2088 7.06346 12.5291C6.93447 12.8494 7.00577 13.2181 7.2441 13.4632L11.4107 17.7489C11.7362 18.0837 12.2638 18.0837 12.5893 17.7489L16.7559 13.4632C16.9942 13.2181 17.0655 12.8494 16.9365 12.5291C16.8076 12.2088 16.5037 12 16.1666 12H14V7C14 6.44771 13.5523 6 13 6H11C10.4477 6 10 6.44771 10 7V12H7.83335Z"
                                stroke="var(--stroke1)" fill="var(--fill1)" />
                        </svg>
                    </div>
                </div> -->
                <video class="video-using" loop muted onClick="playPause();">
                    <source src="videos/desk_calc.mp4" media="screen and (min-device-width:650px)">
                    <source src="videos/Screenrecorder-2023-10-11-16-18-51-824.mp4.mp4"
                        media="screen and (max-device-width:649px)">
                    If you're reading this either the video didn't load or your browser is waaaayyyyyy old!
                </video>

                <div class="math-guide">
                    <div class="math-operators">
                        <h2 class="math-operators__head">Арифметические операторы</h2>
                        <ul class="math-operators__list">
                            <li class="math-operators__item"><span class="math-operators__op">+</span> Сложение.
                                <br>Пример: 2 + 3 = 5
                            </li>
                            <li class="math-operators__item"><span class="math-operators__op">-</span> Вычитание.
                                <br>Пример: 7 - 4 = 3
                            </li>
                            <li class="math-operators__item"><span class="math-operators__op">*</span> Умножение.
                                <br>Пример: 5 * 6 = 30
                            </li>
                            <li class="math-operators__item"><span class="math-operators__op">/</span> Деление.
                                <br>Пример: 10 / 2 = 5
                            </li>
                            <li class="math-operators__item"><span class="math-operators__op"><a
                                        class="math-operators__ref"
                                        href="https://ru.wikipedia.org/wiki/Деление_с_остатком">%</a></span> Взятие
                                остатка от
                                деления. <br>Пример: 8 % 3 = 2</li>
                            <li class="math-operators__item"><span class="math-operators__op"><a
                                        class="math-operators__ref"
                                        href="https://ru.wikipedia.org/wiki/Возведение_в_степень">x<sup>y</sup></a></span>
                                Возведение числа x в степень y. <br>Пример: 2<sup>3</sup> = 8</li>
                            <li class="math-operators__item"><span class="math-operators__op">x<sup>3</sup></span>
                                Возведение числа x в куб. <br>Пример: 2<sup>3</sup> = 8</li>
                            <li class="math-operators__item"><span class="math-operators__op">x<sup>2</sup></span>
                                Возведение числа x в квадрат. <br>Пример: 4<sup>2</sup> = 16</li>
                            <li class="math-operators__item"><span class="math-operators__op">10<sup>x</sup></span>
                                Возведение числа 10 в степень x. <br>Пример: 10<sup>2</sup> = 100</li>
                            <li class="math-operators__item"><span class="math-operators__op"><a
                                        class="math-operators__ref"
                                        href="https://ru.wikipedia.org/wiki/Факториал">x!</a></span> Факториал числа
                                x (произведение всех положительных целых чисел от 1 до x). <br>Пример: 5! = 120</li>
                            <li class="math-operators__item"><span class="math-operators__op"><a
                                        class="math-operators__ref"
                                        href="https://ru.wikipedia.org/wiki/Квадратный_корень">sqrt</a></span>
                                Квадратный
                                корень числа. <br>Пример: sqrt(25) = 5</li>
                        </ul>
                    </div>
                    <div class="math-operators">
                        <h2 class="math-operators__head">Логарифмические операторы</h2>
                        <ul class="math-operators__list">
                            <li class="math-operators__item"><span class="math-operators__op"><a
                                        class="math-operators__ref"
                                        href="https://ru.wikipedia.org/wiki/Десятичный_логарифм">lg</a></span>
                                Десятичный
                                логарифм. <br>Пример: lg(100) = 2</li>
                            <li class="math-operators__item"><span class="math-operators__op"><a
                                        class="math-operators__ref"
                                        href="https://ru.wikipedia.org/wiki/Натуральный_логарифм">ln</a></span>
                                Натуральный
                                логарифм (логарифм по основанию e). <br>Пример: ln(e) = 1</li>
                        </ul>
                    </div>
                    <div class="math-operators">
                        <h2 class="math-operators__head">Другие операторы</h2>
                        <ul class="math-operators__list">
                            <li class="math-operators__item"><span class="math-operators__op">(</span> Открывающая
                                скобка. Используется для группировки выражений. <br>Пример: (2 + 3) * 4 = 20</li>
                            <li class="math-operators__item"><span class="math-operators__op">)</span> Закрывающая
                                скобка.</li>
                            <li class="math-operators__item"><span class="math-operators__op">=</span> Оператор
                                равенства. <br>Пример: 5 + 5 = 10</li>
                            <li class="math-operators__item"><span class="math-operators__op">C</span> Очистка всех
                                данных калькулятора.</li>
                            <li class="math-operators__item"><span class="math-operators__op">&larr;</span> Удаление
                                последнего символа ввода.</li>
                        </ul>

                        <div class="math-operators__other">
                            <p class="math-operators__pi">Помимо перечисленных операторов, вы также можете использовать
                                константу <span span class="math-operators__op"><a class="math-operators__ref"
                                        href="https://ru.wikipedia.org/wiki/Пи_(число)">&pi;</a></span>, представляющую
                                число
                                ПИ(~3.14).</p>
                        </div>
                    </div>
                </div>
            </section>
            <section class="FAQ border-animate">
                <h1 class="FAQ__head">Вопросы и ответы</h1>
                <div class="FAQ__question">
                    <h2 class="FAQ__q-head">Не совсем понятно, как работают функции у калькулятора.</h2>
                    <div class="FAQ__answer">
                        <p>Некоторые функции являются "левосторонними" или "правосторонними". Это значит, что
                            первые применяются к выражению, стоящему слева(до применения функции), а вторые к выражению
                            справа(т.е после применения функции). Например - возведение в степень ^ - левостороннее, а
                            взятие корня sqrt - правостороннее.</p>
                    </div>
                </div>

                <div class="FAQ__question">
                    <h2 class="FAQ__q-head">Будет ли калькулятор развиваться? Стоит ли ожидать появления больших
                        возможностей,
                        например тригонометрии?</h2>
                    <div class="FAQ__answer">
                        <p class="FAQ__answer-para">Да, такое в планах есть.</p>
                    </div>
                </div>

                <div class="FAQ__question">
                    <h2 class="FAQ__q-head">Почему у калькулятора только один экран, а не два?</h2>
                    <div class="FAQ__answer">
                        <p class="FAQ__answer-para">Концепция двух экранов сложнее в реализации, поэтому возможно
                            появится позже.</p>
                    </div>
                </div>

                <div class="FAQ__question">
                    <h2 class="FAQ__q-head">Как связаться по каким-либо вопросам с создателем сайта?</h2>
                    <div class="FAQ__answer">
                        <p class="FAQ__answer-para">В футере, нижней части сайта, есть все необходимые ссылки.</p>
                    </div>
                </div>
            </section>
        </main>
    </div>
    <footer class="footer">@created by B-S-B-Rabbit</footer>
    <script>
        // const mainContent = document.querySelector('.arrow-down__shape');
        // mainContent.addEventListener('click', () => {
        //     const toInfo = document.querySelector('.math-guide');
        //     toInfo.scrollIntoView({ behavior: 'smooth' });
        // });

        const myVideo = document.querySelector('.video-using');

        function playPause() {
            if (myVideo.paused) myVideo.play();
            else myVideo.pause();
        }

        const questions = document.querySelectorAll('.FAQ__question');

        questions.forEach((question) => {
            const answer = question.querySelector('.FAQ__answer');
            const questionTitle = question.querySelector('.FAQ__q-head');

            questionTitle.addEventListener('click', () => {
                if (answer.style.maxHeight) {
                    answer.style.maxHeight = null;
                } else {
                    answer.style.maxHeight = `${answer.scrollHeight}px`;
                }
            });
        });

        // Ссылки на элементы меню
        const menuItems = document.querySelectorAll('.inner-nav__item');

        // Функция для установки стилей при нажатии
        function setStylesOnClick(element) {
            element.style.transition = 'color 1s';
            element.style.color = 'red';
        }

        // Функция для снятия стилей после задержки
        function resetStyles(element) {
            element.style.color = 'white';
        }

        // Функция для прокрутки к соответствующим элементам
        function scrollToElement(target) {
            const targetElement = document.querySelector(`.${target}`);
            targetElement.scrollIntoView({ behavior: 'smooth' });
        }

        // Добавляем обработчики событий для каждой ссылки
        menuItems.forEach((item) => {
            item.addEventListener('click', () => {
                setStylesOnClick(item);
                const target = item.getAttribute('data-target');
                scrollToElement(target);
                setTimeout(() => resetStyles(item), 1000);
            });
        });

        const headerHeight = document.querySelector('.header').offsetHeight;
        const screenWidth = window.screen.width;
        const navbar = document.querySelector('.sidebar-using');
        const initialTop = headerHeight;
        const scrollThreshold = 50; // Пороговое значение для начала возврата сайдбара

        if (screenWidth > 650) {
            navbar.style.top = `${initialTop}px`;
            let lastScrollTop = 0;
            let isScrollingUp = false;

            window.addEventListener('scroll', () => {
                const st = window.pageYOffset || document.documentElement.scrollTop;

                if (st > lastScrollTop) {
                    // Прокрутка вниз
                    isScrollingUp = false;
                    navbar.style.transition = 'top 0.3s, left 0.6s';
                    navbar.style.top = `${Math.max(initialTop - st, 0)}px`;
                } else {
                    // Прокрутка вверх
                    if (st < initialTop) {
                        isScrollingUp = true;
                        navbar.style.transition = 'top 0.3s, left 0.6s';
                        navbar.style.top = `${initialTop}px`;
                    } else if (isScrollingUp) {
                        navbar.style.transition = 'none';
                        navbar.style.top = `${Math.max(initialTop - st, 0)}px`;
                    }
                }

                lastScrollTop = st;
            });
        }
    </script>
</body>

</html>